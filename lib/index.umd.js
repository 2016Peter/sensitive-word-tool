!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SensitiveWordTool=t()}(this,(function(){"use strict";class e{map={};noiseWordMap=e.generateNoiseWordMap(" \t\r\n~!@#$%^&*()_+-=【】、{}|;':\"，。、《》？αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ。，、；：？！…—·ˉ¨‘’“”々～‖∶＂＇｀｜〃〔〕〈〉《》「」『』．〖〗【】（）［］｛｝ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ⒈⒉⒊⒋⒌⒍⒎⒏⒐⒑⒒⒓⒔⒕⒖⒗⒘⒙⒚⒛㈠㈡㈢㈣㈤㈥㈦㈧㈨㈩①②③④⑤⑥⑦⑧⑨⑩⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂⒃⒄⒅⒆⒇≈≡≠＝≤≥＜＞≮≯∷±＋－×÷／∫∮∝∞∧∨∑∏∪∩∈∵∴⊥∥∠⌒⊙≌∽√§№☆★○●◎◇◆□℃‰€■△▲※→←↑↓〓¤°＃＆＠＼︿＿￣―♂♀┌┍┎┐┑┒┓─┄┈├┝┞┟┠┡┢┣│┆┊┬┭┮┯┰┱┲┳┼┽┾┿╀╁╂╃└┕┖┗┘┙┚┛━┅┉┤┥┦┧┨┩┪┫┃┇┋┴┵┶┷┸┹┺┻╋╊╉╈╇╆╅╄");static LeafKey="__leaf__";constructor(e={}){const{wordList:t=[],noiseWords:o=""}=e;o&&this.setNoiseWords(o),this.addWords(t)}static generateNoiseWordMap(e){const t={};for(let o=0,r=e.length;o<r;o++)t[e.charCodeAt(o)]=!0;return t}static isLeaf(t){return Reflect.has(t,e.LeafKey)}static generateLeafObj(){return{[e.LeafKey]:!0}}filterNoiseChar(e){let t="";for(let o=0,r=e.length;o<r;o++)this.noiseWordMap[e.charCodeAt(o)]||(t+=e.charAt(o));return t}setNoiseWords(t){this.noiseWordMap=e.generateNoiseWordMap(t)}clearWords(){this.map={}}addWords(t){for(let o=0,r=t.length;o<r;o++){let r=this.map;const s=this.filterNoiseChar(t[o]);for(let t=0,o=s.length;t<o&&!e.isLeaf(r);t++){const a=s.charAt(t).toLowerCase();if(t===o-1){r[a]=e.generateLeafObj();break}r=r[a]=r[a]||{}}}}match(t){const o=new Set;let r=this.map;const s=t.length;for(let a=0;a<s;a++)for(let i=a;i<s;i++){const s=t.charCodeAt(i);if(this.noiseWordMap[s])continue;if(r=r[t.charAt(i).toLowerCase()],!r){r=this.map;break}if(e.isLeaf(r)){const e=this.filterNoiseChar(t.substring(a,i+1));o.add(e),r=this.map;break}}return[...o]}verify(t){let o=this.map;const r=t.length;for(let s=0;s<r;s++)for(let a=s;a<r;a++){const r=t.charCodeAt(a);if(this.noiseWordMap[r])continue;if(o=o[t.charAt(a).toLowerCase()],!o){o=this.map;break}if(e.isLeaf(o))return!0}return!1}filter(t,o="*"){let r="",s=0,a=this.map;const i=t.length;for(let n=0;n<i;n++){const h=t.charCodeAt(n);if(this.noiseWordMap[h])r+=t.charAt(n),s=Math.max(s-1,0);else for(let h=n;h<i;h++){const f=t.charCodeAt(h);if(this.noiseWordMap[f])continue;if(a=a[t.charAt(h).toLowerCase()],!a){r+=s>0?o:t.charAt(n),s=Math.max(s-1,0),a=this.map;break}if(e.isLeaf(a)){r+=o,s=Math.max(s-1,h-n),a=this.map;break}h===i-1&&(r+=s>0?o:t.charAt(h))}}return r}}return e}));
//# sourceMappingURL=index.umd.js.map
