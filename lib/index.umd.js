!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SensitiveWordTool=e()}(this,(function(){"use strict";class t{map={};noiseWordMap=t.generateNoiseWordMap(" \t\r\n~!@#$%^&*()_+-=【】、{}|;':\"，。、《》？αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ。，、；：？！…—·ˉ¨‘’“”々～‖∶＂＇｀｜〃〔〕〈〉《》「」『』．〖〗【】（）［］｛｝ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ⒈⒉⒊⒋⒌⒍⒎⒏⒐⒑⒒⒓⒔⒕⒖⒗⒘⒙⒚⒛㈠㈡㈢㈣㈤㈥㈦㈧㈨㈩①②③④⑤⑥⑦⑧⑨⑩⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂⒃⒄⒅⒆⒇≈≡≠＝≤≥＜＞≮≯∷±＋－×÷／∫∮∝∞∧∨∑∏∪∩∈∵∴⊥∥∠⌒⊙≌∽√§№☆★○●◎◇◆□℃‰€■△▲※→←↑↓〓¤°＃＆＠＼︿＿￣―♂♀┌┍┎┐┑┒┓─┄┈├┝┞┟┠┡┢┣│┆┊┬┭┮┯┰┱┲┳┼┽┾┿╀╁╂╃└┕┖┗┘┙┚┛━┅┉┤┥┦┧┨┩┪┫┃┇┋┴┵┶┷┸┹┺┻╋╊╉╈╇╆╅╄");static WordEndTag="__endTag__";constructor(t={}){const{wordList:e=[],noiseWords:o=""}=t;o&&this.setNoiseWords(o),this.addWords(e)}static generateNoiseWordMap(t){const e={};for(let o=0,r=t.length;o<r;o++)e[t.charCodeAt(o)]=!0;return e}static isWordEnd(e){return Reflect.has(e,t.WordEndTag)}filterNoiseChar(t){let e="";for(let o=0,r=t.length;o<r;o++)this.noiseWordMap[t.charCodeAt(o)]||(e+=t.charAt(o));return e}setNoiseWords(e){this.noiseWordMap=t.generateNoiseWordMap(e)}clearWords(){this.map={}}addWords(e){for(let o=0,r=e.length;o<r;o++){let r=this.map;const s=this.filterNoiseChar(e[o]);for(let e=0,o=s.length;e<o;e++){const i=s.charAt(e).toLowerCase(),n=r[i]=r[i]||{};e===o-1&&(n[t.WordEndTag]=!0),r=n}}}match(e){const o=new Set;let r=this.map;const s=e.length;for(let i=0;i<s;i++){const n=e.charCodeAt(i);if(!this.noiseWordMap[n])for(let n=i;n<s;n++){const s=e.charCodeAt(n);if(this.noiseWordMap[s])continue;if(r=r[e.charAt(n).toLowerCase()],!r){r=this.map;break}if(t.isWordEnd(r)){const t=this.filterNoiseChar(e.substring(i,n+1));o.add(t)}}}return[...o]}verify(e){let o=this.map;const r=e.length;for(let s=0;s<r;s++){const i=e.charCodeAt(s);if(!this.noiseWordMap[i])for(let i=s;i<r;i++){const r=e.charCodeAt(i);if(this.noiseWordMap[r])continue;if(o=o[e.charAt(i).toLowerCase()],!o){o=this.map;break}if(t.isWordEnd(o))return!0}}return!1}filter(e,o="*"){let r="",s=0,i=this.map;const n=e.length;for(let a=0;a<n;a++){const d=e.charCodeAt(a);if(this.noiseWordMap[d]){r+=e.charAt(a),s=Math.max(s-1,0);continue}let h=!1;for(let d=a;d<n;d++){const c=e.charCodeAt(d);if(this.noiseWordMap[c])continue;if(i=i[e.charAt(d).toLowerCase()],i&&t.isWordEnd(i))h||(r+=o),s=Math.max(s-1,d-a),h=!0;else if(!i||d===n-1){h||(r+=s>0?o:e.charAt(a),s=Math.max(s-1,0)),i=this.map;break}}}return r}}return t}));
//# sourceMappingURL=index.umd.js.map
