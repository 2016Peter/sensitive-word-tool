"use strict";class t{map={};noiseWordMap=t.generateNoiseWordMap(" \t\r\n~!@#$%^&*()_+-=【】、{}|;':\"，。、《》？αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ。，、；：？！…—·ˉ¨‘’“”々～‖∶＂＇｀｜〃〔〕〈〉《》「」『』．〖〗【】（）［］｛｝ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ⒈⒉⒊⒋⒌⒍⒎⒏⒐⒑⒒⒓⒔⒕⒖⒗⒘⒙⒚⒛㈠㈡㈢㈣㈤㈥㈦㈧㈨㈩①②③④⑤⑥⑦⑧⑨⑩⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂⒃⒄⒅⒆⒇≈≡≠＝≤≥＜＞≮≯∷±＋－×÷／∫∮∝∞∧∨∑∏∪∩∈∵∴⊥∥∠⌒⊙≌∽√§№☆★○●◎◇◆□℃‰€■△▲※→←↑↓〓¤°＃＆＠＼︿＿￣―♂♀┌┍┎┐┑┒┓─┄┈├┝┞┟┠┡┢┣│┆┊┬┭┮┯┰┱┲┳┼┽┾┿╀╁╂╃└┕┖┗┘┙┚┛━┅┉┤┥┦┧┨┩┪┫┃┇┋┴┵┶┷┸┹┺┻╋╊╉╈╇╆╅╄");static LeafKey="__leaf__";constructor(t={}){const{wordList:e=[],noiseWords:r=""}=t;r&&this.setNoiseWords(r),this.addWords(e)}static generateNoiseWordMap(t){const e={};for(let r=0,a=t.length;r<a;r++)e[t.charCodeAt(r)]=!0;return e}static isLeaf(e){return Reflect.has(e,t.LeafKey)}static generateLeafObj(){return{[t.LeafKey]:!0}}filterNoiseChar(t){let e="";for(let r=0,a=t.length;r<a;r++)this.noiseWordMap[t.charCodeAt(r)]||(e+=t.charAt(r));return e}setNoiseWords(e){this.noiseWordMap=t.generateNoiseWordMap(e)}clearWords(){this.map={}}addWords(e){for(let r=0,a=e.length;r<a;r++){let a=this.map;const s=this.filterNoiseChar(e[r]);for(let e=0,r=s.length;e<r&&!t.isLeaf(a);e++){const o=s.charAt(e).toLowerCase();if(e===r-1){a[o]=t.generateLeafObj();break}a=a[o]=a[o]||{}}}}match(e){const r=new Set;let a=this.map;const s=e.length;for(let o=0;o<s;o++)for(let i=o;i<s;i++){const s=e.charCodeAt(i);if(this.noiseWordMap[s])continue;if(a=a[e.charAt(i).toLowerCase()],!a){a=this.map;break}if(t.isLeaf(a)){const t=this.filterNoiseChar(e.substring(o,i+1));r.add(t),a=this.map;break}}return[...r]}verify(e){let r=this.map;const a=e.length;for(let s=0;s<a;s++)for(let o=s;o<a;o++){const a=e.charCodeAt(o);if(this.noiseWordMap[a])continue;if(r=r[e.charAt(o).toLowerCase()],!r){r=this.map;break}if(t.isLeaf(r))return!0}return!1}filter(e,r="*"){let a="",s=0,o=this.map;const i=e.length;for(let n=0;n<i;n++){const h=e.charCodeAt(n);if(this.noiseWordMap[h])a+=e.charAt(n),s=Math.max(s-1,0);else for(let h=n;h<i;h++){const c=e.charCodeAt(h);if(this.noiseWordMap[c])continue;if(o=o[e.charAt(h).toLowerCase()],!o){a+=s>0?r:e.charAt(n),s=Math.max(s-1,0),o=this.map;break}if(t.isLeaf(o)){a+=r,s=Math.max(s-1,h-n),o=this.map;break}h===i-1&&(a+=s>0?r:e.charAt(h))}}return a}}module.exports=t;
//# sourceMappingURL=index.cjs.js.map
