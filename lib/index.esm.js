class t{map={};noiseWordMap=t.generateNoiseWordMap(" \t\r\n~!@#$%^&*()_+-=【】、{}|;':\"，。、《》？αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ。，、；：？！…—·ˉ¨‘’“”々～‖∶＂＇｀｜〃〔〕〈〉《》「」『』．〖〗【】（）［］｛｝ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ⒈⒉⒊⒋⒌⒍⒎⒏⒐⒑⒒⒓⒔⒕⒖⒗⒘⒙⒚⒛㈠㈡㈢㈣㈤㈥㈦㈧㈨㈩①②③④⑤⑥⑦⑧⑨⑩⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂⒃⒄⒅⒆⒇≈≡≠＝≤≥＜＞≮≯∷±＋－×÷／∫∮∝∞∧∨∑∏∪∩∈∵∴⊥∥∠⌒⊙≌∽√§№☆★○●◎◇◆□℃‰€■△▲※→←↑↓〓¤°＃＆＠＼︿＿￣―♂♀┌┍┎┐┑┒┓─┄┈├┝┞┟┠┡┢┣│┆┊┬┭┮┯┰┱┲┳┼┽┾┿╀╁╂╃└┕┖┗┘┙┚┛━┅┉┤┥┦┧┨┩┪┫┃┇┋┴┵┶┷┸┹┺┻╋╊╉╈╇╆╅╄");static WordEndTag="__endTag__";constructor(t={}){const{wordList:e=[],noiseWords:o=""}=t;o&&this.setNoiseWords(o),this.addWords(e)}static generateNoiseWordMap(t){const e={};for(let o=0,r=t.length;o<r;o++)e[t.charCodeAt(o)]=!0;return e}static isWordEnd(e){return Reflect.has(e,t.WordEndTag)}filterNoiseChar(t){let e="";for(let o=0,r=t.length;o<r;o++)this.noiseWordMap[t.charCodeAt(o)]||(e+=t.charAt(o));return e}setNoiseWords(e){this.noiseWordMap=t.generateNoiseWordMap(e)}clearWords(){this.map={}}addWords(e){for(let o=0,r=e.length;o<r;o++){let r=this.map;const s=this.filterNoiseChar(e[o]);for(let e=0,o=s.length;e<o;e++){const a=s.charAt(e).toLowerCase(),i=r[a]=r[a]||{};e===o-1&&(i[t.WordEndTag]=!0),r=i}}}match(e){const o=new Set;let r=this.map;const s=e.length;for(let a=0;a<s;a++){const i=e.charCodeAt(a);if(!this.noiseWordMap[i])for(let i=a;i<s;i++){const s=e.charCodeAt(i);if(this.noiseWordMap[s])continue;if(r=r[e.charAt(i).toLowerCase()],!r){r=this.map;break}if(t.isWordEnd(r)){const t=this.filterNoiseChar(e.substring(a,i+1));o.add(t)}}}return[...o]}verify(e){let o=this.map;const r=e.length;for(let s=0;s<r;s++){const a=e.charCodeAt(s);if(!this.noiseWordMap[a])for(let a=s;a<r;a++){const r=e.charCodeAt(a);if(this.noiseWordMap[r])continue;if(o=o[e.charAt(a).toLowerCase()],!o){o=this.map;break}if(t.isWordEnd(o))return!0}}return!1}filter(e,o="*"){let r="",s=0,a=this.map;const i=e.length;for(let n=0;n<i;n++){const h=e.charCodeAt(n);if(this.noiseWordMap[h]){r+=e.charAt(n),s=Math.max(s-1,0);continue}let d=!1;for(let h=n;h<i;h++){const c=e.charCodeAt(h);if(this.noiseWordMap[c])continue;if(a=a[e.charAt(h).toLowerCase()],a&&t.isWordEnd(a))d||(r+=o),s=Math.max(s-1,h-n),d=!0;else if(!a||h===i-1){d||(r+=s>0?o:e.charAt(n),s=Math.max(s-1,0)),a=this.map;break}}}return r}}export{t as default};
//# sourceMappingURL=index.esm.js.map
